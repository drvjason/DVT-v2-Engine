[pytest]
# ─────────────────────────────────────────────────────────────────────────────
# RuleForge DVT Engine — pytest configuration
# Test files live in tests/ subdirectory.
# ─────────────────────────────────────────────────────────────────────────────
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Coverage: detection_validator.py at 80% minimum.
# app.py coverage gated separately after module decomposition (Phase 5).
addopts =
    --cov=detection_validator
    --cov-report=term-missing
    --cov-report=html:htmlcov
    --cov-report=xml:coverage.xml
    --cov-fail-under=80
    -v
    --tb=short
    --timeout=30
    --strict-markers

# Test markers — use -m "not slow" to skip long tests during rapid iteration
markers =
    slow: marks tests that take >5 seconds (deselect with -m 'not slow')
    integration: marks tests requiring network or external services
    security: marks security-specific tests
